<!DOCTYPE html>
<html lang="pt-br">
	<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Artigos/Geração producedural em mapas de jogos 2D</title>

    <link rel="stylesheet" href="/home/shared/basic.css">
    <script src="/home/shared/basic.js"></script>
	<!-- <link rel="stylesheet" href="basic.css"> -->
	<link rel="stylesheet" href="style.css">
  <script src="script.js"></script>
	</head>
	<body>
		<nav>
			<ul>
				<a href="/home">Página Inicial</a>
        <a href="/home/articles">Artigos</a>
			</ul>
		</nav>
    <div class="article">
      <h1>Geração procedural em mapas de jogos 2D</h1>
      <p>
        Quando falamos de <b>geração procedural</b> é importante primeiro saber que ela pode estar presente em várias formas,
        <a target="_blank" href="https://commons.wikimedia.org/wiki/File:LegoDog_small.gif#/media/File:LegoDog_small.gif">animação procedural</a>, 
        <a target="_blank" href="https://tones.wolfram.com/">música procedural</a>, ou o assunto que será tratado neste artigo, terreno procedural.
      </p>
      <p>
        Algo gerado proceduralmente deriva de um conjunto de regras ou fórmulas, sejam simples ou complexas, que produzem resultados semelhantes ou idênticos
        toda vez que aplicadas, logo, um produto procedural pode ser sempre o mesmo ou completamente único, porém, sempre previsível.
      </p>
      <h3>Tabuleiro de xadrez - geração idêntica</h3>
      <p>
        Um exemplo simples que podemos observar é produzir um tabuleiro de xadrez proceduralmente.
        Primeiro temos que levar em consideração o tamanho do tabuleiro que, neste caso, são <b>8x8 casas</b>, para facilitar o entendimento vamos de maneira
        não convencional <b>enumerar ambos os eixos com números de 1 a 8</b>, a cor de cada casa será decidida pela <b>soma dos números em ambos os eixos</b>,
        <b>números pares serão casas escuras</b> e <b>ímpares casas claras</b>. Seguindo este processo o resultado sempre será um tabuleiro quadriculado idêntico
        ao de xadrez.
      </p>
      <br>
      <div id="chess-table-div">
        <table class="chess-table chess-table-enumerated"></table>
        <table class="chess-table"></table>
      </div>
      <p>
        Gerações procedurais podem substituir a produção manual ou diminuir o uso de espaço de armazenamento, trocando algo armazenado extensivamente por um conjunto
        de regras (você sabia que, de modo geral, números flutuantes utilizam <a target="_blank" href="https://en.wikipedia.org/wiki/Significand">mantissa</a>?
        Armazenar zeros é perda de espaço!). Tabuleiros de xadrez apesar de simples de se gerar e serem um bom caso de estudo, são razoavelmente pequenos e não
        possuem variações, logo, pode não ser vantajoso construí-los de maneira procedural.
      </p>
      <h3>Tabuleiro de campo minado - geração aleatória</h3>
      <p>
        Um caso interessante e bem conhecido de um tabuleiro variável é o <b>campo minado</b>. Em comparação, uma série de tabuleiros poderiam ser manualmente
        criados e armazenados na memória e, de maneira linear ou aleatória, escolhidos para serem jogados, ou com um pouco de engenharia reversa podemos criá-los
        de maneira procedural e armazenar somente as regras necessárias para criar uma variedade quase infinita de tabuleiros.
      </p>
      <p>
        Mãos à obra! Simplificando a criação do campo minado, vamos novamente considerar um tabuleiro de <b> dimensões 8x8</b>, das 64 casas <b>8 destas em posições
        aleatórias serão minas terrestres</b>, as demais serão vazias ou terão o <b>número de minas adjacentes</b> caso haja alguma, ou seja, variam de 1 a 8.
        Uma vez que o tabuleiro foi gerado basta esconder os valores das casas, e revelá-los conforme a interação do jogador (se esta página for reiniciada, um novo
        tabuleiro será criado proceduralmente).
      </p>
      <br>
      <div id="minesweeper-table-div">
        <table class="minesweeper-table"></table>
        <table class="minesweeper-table minesweeper-table-enumerated"></table>
      </div>
        
      <h2>O que constitui um mapa de jogo</h2>
      <p>
        Considerando apenas jogos 2D, existem dois tipos mais populares, <b>visão superior</b> e <b>plataforma</b>. Algumas diferenças cruciais no mapeamento de ambos
        é a presença de <a href="https://pt.wikipedia.org/wiki/Paralaxe">paralaxe</a> para adicionar profundidade às plataformas, e utilização de elementos
        <a href="https://pt.wikipedia.org/wiki/2,5D_(computa%C3%A7%C3%A3o_gr%C3%A1fica)">2.5D</a> e
        <a href="https://pt.wikipedia.org/wiki/Perspectiva_isom%C3%A9trica">visão isométrica</a> combinadas à visão superior. Ignorando estes métodos bem como a
        separação de camadas de textura, <b>todo mapa pode ser resumido a uma grade bidimensional</b>, semelhante aos tabuleiros de xadrez e campo minado.
      </p>
      <p>
        Simplificando, de modo geral, todo elemento do mapa possui algumas características comuns, <b>textura</b> (incluindo animação), <b>colisão</b>, <b>estado</b>
        e <b>inventário</b>. Em uma visão mais macro, os elementos estão distribuídos em regiões (ou cenários), estes podem ser biomas, cidades, casas ou mesmo salas.
        Ou seja, <b>um mapa pode ser dividido em regiões</b>, que podem ou não possuir outras sub-regiões, e <b>dentro delas existem elementos</b> com caraterísticas
        visuais e interativas, sendo estes o <b>piso</b>, <b>paredes</b>, <b>NPCs</b>, <b>baús</b> ou mesmo o <b>player</b>.
      </p>
      <br>
      <div class="center">
        <img src="images/img001.png" alt="pokemon map division example">
      </div>
      
      <h2>Quais as vantagens e desvantagens</h2>
      <p>
        A questão mas importante aqui é <b>o quê vale a pena gerar proceduralmente</b>, para responder isto é necessário entender as vantagens e desvantagens para os
        tipos de mapas que podem ser abordados. Para simplificação do que precisamos observar, vamos trabalhar primeiro com a menor região e depois aumentar o escopo
        do que podemos substituir ou mesclar com métodos procedurais.
      </p>
      <p>
        Neste caso de exemplo vamos criar um caminho em uma floresta, <b>o player (em vermelho)</b> inicia bem no centro do mapa e as <b>áreas abertas (sem árvores)</b>
        são um círculo ao redor e um caminho de 3 blocos de largura em direção ao lado inferior. Para comparação, no método procedural vamos seguir as mesmas regras,com
        a diferença somente de <b>iniciar o jogador em um ponto aleatório (dentro da área marcada em amarelo)</b> e então traçar um caminho até o centro do lado inferior.
      </p>
      <br>
      <div id="forest-table-div">
        <table class="forest-table"></table>
        <table class="forest-table forest-marked forest-procedural"></table>
        <table class="forest-table forest-procedural"></table>
      </div>
      <p>
        Se observarmos as "florestas" no exemplo anterior
      </p>

      
      <h2>Alguns métodos e suas aplicações</h2>
      
      <h3>Drunken Walk</h3>
      
      
      <h3>Cellullar Automata</h3>
      
      
      <h3>Perlin Noise</h3>
      
      
      <a target="_blank" href="https://yurishimoi.github.io/simpleworld/procedure-demo.html">Procedure demo</a>
    </div>
	</body>
</html>